<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Dashboard</h1>
    <form action="/tim-kiem" method="GET" class="active-pink-2">
        <input type="search" name="search" id="headerSearch" placeholder="Tìm kiếm">
        <button type="submit" value="submit">Search</button>
    </form>
</div>

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Danh sách sản phẩm</h2>

    <button type="button" class="btn btn-success"><a href="/add">Thêm sản phẩm</a></button>
</div>
<div class="table-responsive">
    <table class="table table-striped table-sm" aria-describedby="Product list">
        <thead>
            <tr>
                <th id="name">Tên</th>
                <th id="brand">Thương hiệu</th>
                <th id="price">Giá</th>
                <th id="status">Trạng thái</th>
                <th id="modify">Cập nhật</th>
            </tr>
        </thead>
        <tbody>
            <%
            if(products.length != 0){
                products.forEach(data =>{
            %>
            <tr>
                <td>
                    <%=data.name%>
                </td>
                <td>
                    <%=data.brand%>
                </td>
                <td>
                    <%=data.price%>
                </td>
                <%if(data.status == 1){%>
                <td>Còn hàng</td>
                <%}else{%>
                <td>Hết hàng</td>
                <%}%>
                                <td>
                                    <button class="btn btn-primary">
                        <a style="color:#fff;" href="/edit/<%=data._id%>">Chỉnh sửa</a>
                </button>
                </td>
            </tr>%>
            <%  }) %>
            <%  }else{%>
            <td colspan="7">Không có dữ liệu</td>
            <%}%>
        </tbody>
        <nav aria-label="navigation">
            <ul class="pagination mt-50 mb-70">
            <% if(currentPage && currentPage > 1){%>
            <%if(searchString){%>
            <li class="page-item">
                <a class="page-link" href="<%=categoryPath%>?search=<%=searchString%>&page=<%=prevPage%>">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-left" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
                    </svg>
                </a>
            </li>
            <%} else{%>
            <li class="page-item">
                <a class="page-link" href="<%=categoryPath%>?page=<%=prevPage%>">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-left" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
                    </svg>
                </a>
            </li>
            <%}%>
            <%}%>

            <%if(hasPrevPage){%>
            <%if(searchString){%>
            <li class="page-item">
                <a class="page-link" href="<%=categoryPath%>?search=<%=searchString%>&page=<%=prevPage%>">
                    <%=nextPage%>
                </a>
            </li>
            <%} else{%>
            <li class="page-item">
                <a class="page-link" href="<%=categoryPath%>?page=<%=prevPage%>">
                    <%=prevPage%>
                </a>
            </li>
            <%}%>
            <%}%>

            <li class="page-item">
                <a class="page-link" href="javascript:void(0)" tabindex="-1">
                    <%=currentPage%>
                </a>
            </li>

            <%if(hasNextPage){%>
            <%if(searchString){%>
            <li class="page-item">
                <a class="page-link" href="<%=categoryPath%>?search=<%=searchString%>&page=<%=nextPage%>">
                    <%=nextPage%>
                </a>
            </li>
            <%} else{%>
            <li class="page-item">
                <a class="page-link" href="<%=categoryPath%>?page=<%=nextPage%>">
                    <%=nextPage%>
                </a>
            </li>
            <%}%>
            <%}%>

            <%if(lastPage>currentPage){%>
            <%if(searchString){%>
            <li class="page-item">
                <a class="page-link" href="<%=categoryPath%>?search=<%=searchString%>&page=<%=nextPage%>">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-right" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" />
                    </svg>
                </a>
            </li>
            <%} else{%>
            <li class="page-item">
                <a class="page-link" href="<%=categoryPath%>?page=<%=nextPage%>">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-right" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" />
                    </svg>
                </a>
            </li>
            <%}%>
            <%}%>

            </ul>
            </nav>
    </table>
</div>
</main>